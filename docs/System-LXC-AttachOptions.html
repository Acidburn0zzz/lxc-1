<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>System.LXC.AttachOptions</title><link href="ocean.css" rel="stylesheet" type="text/css" title="Ocean" /><script src="haddock-util.js" type="text/javascript"></script><script type="text/javascript">//<![CDATA[
window.onload = function () {pageLoad();setSynopsis("mini_System-LXC-AttachOptions.html");};
//]]>
</script></head><body><div id="package-header"><ul class="links" id="page-menu"><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul><p class="caption">lxc-0.1.1: High level Haskell bindings to LXC (Linux containers).</p></div><div id="content"><div id="module-header"><table class="info"><tr><th>Safe Haskell</th><td>Safe-Inferred</td></tr><tr><th>Language</th><td>Haskell2010</td></tr></table><p class="caption">System.LXC.AttachOptions</p></div><div id="table-of-contents"><p class="caption">Contents</p><ul><li><a href="#g:1">Attach options</a></li><li><a href="#g:2">Attach command</a></li><li><a href="#g:3">Attach <code>exec</code> functions</a></li><li><a href="#g:4">Flags and environment policies</a></li></ul></div><div id="synopsis"><p id="control.syn" class="caption expander" onclick="toggleSection('syn')">Synopsis</p><ul id="section.syn" class="hide" onclick="toggleSection('syn')"><li class="src short"><span class="keyword">data</span> <a href="#t:AttachOptions">AttachOptions</a> = <a href="#v:AttachOptions">AttachOptions</a> {<ul class="subs"><li><a href="#v:attachFlags">attachFlags</a> :: [<a href="System-LXC-AttachOptions.html#t:AttachFlag">AttachFlag</a>]</li><li><a href="#v:attachNamespaces">attachNamespaces</a> :: <a href="file:///usr/local/haskell/ghc-7.8.3-x86_64/share/doc/ghc/html/libraries/base-4.7.0.1/Data-Int.html#t:Int">Int</a></li><li><a href="#v:attachPersonality">attachPersonality</a> :: <a href="file:///usr/local/haskell/ghc-7.8.3-x86_64/share/doc/ghc/html/libraries/base-4.7.0.1/Data-Maybe.html#t:Maybe">Maybe</a> <a href="file:///usr/local/haskell/ghc-7.8.3-x86_64/share/doc/ghc/html/libraries/base-4.7.0.1/Data-Int.html#t:Int64">Int64</a></li><li><a href="#v:attachInitialCWD">attachInitialCWD</a> :: <a href="file:///usr/local/haskell/ghc-7.8.3-x86_64/share/doc/ghc/html/libraries/base-4.7.0.1/Data-Maybe.html#t:Maybe">Maybe</a> <a href="file:///usr/local/haskell/ghc-7.8.3-x86_64/share/doc/ghc/html/libraries/base-4.7.0.1/System-IO.html#t:FilePath">FilePath</a></li><li><a href="#v:attachUID">attachUID</a> :: <a href="file:///usr/local/haskell/ghc-7.8.3-x86_64/share/doc/ghc/html/libraries/base-4.7.0.1/System-Posix-Types.html#t:UserID">UserID</a></li><li><a href="#v:attachGID">attachGID</a> :: <a href="file:///usr/local/haskell/ghc-7.8.3-x86_64/share/doc/ghc/html/libraries/base-4.7.0.1/System-Posix-Types.html#t:GroupID">GroupID</a></li><li><a href="#v:attachEnvPolicy">attachEnvPolicy</a> :: <a href="System-LXC-AttachOptions.html#t:AttachEnvPolicy">AttachEnvPolicy</a></li><li><a href="#v:attachExtraEnvVars">attachExtraEnvVars</a> :: [<a href="file:///usr/local/haskell/ghc-7.8.3-x86_64/share/doc/ghc/html/libraries/base-4.7.0.1/Data-String.html#t:String">String</a>]</li><li><a href="#v:attachExtraKeepEnv">attachExtraKeepEnv</a> :: [<a href="file:///usr/local/haskell/ghc-7.8.3-x86_64/share/doc/ghc/html/libraries/base-4.7.0.1/Data-String.html#t:String">String</a>]</li><li><a href="#v:attachStdinFD">attachStdinFD</a> :: <a href="file:///usr/local/haskell/ghc-7.8.3-x86_64/share/doc/ghc/html/libraries/base-4.7.0.1/System-Posix-Types.html#t:Fd">Fd</a></li><li><a href="#v:attachStdoutFD">attachStdoutFD</a> :: <a href="file:///usr/local/haskell/ghc-7.8.3-x86_64/share/doc/ghc/html/libraries/base-4.7.0.1/System-Posix-Types.html#t:Fd">Fd</a></li><li><a href="#v:attachStderrFD">attachStderrFD</a> :: <a href="file:///usr/local/haskell/ghc-7.8.3-x86_64/share/doc/ghc/html/libraries/base-4.7.0.1/System-Posix-Types.html#t:Fd">Fd</a></li></ul>}</li><li class="src short"><a href="#v:defaultAttachOptions">defaultAttachOptions</a> :: <a href="System-LXC-AttachOptions.html#t:AttachOptions">AttachOptions</a></li><li class="src short"><span class="keyword">data</span> <a href="#t:AttachCommand">AttachCommand</a> = <a href="#v:AttachCommand">AttachCommand</a> {<ul class="subs"><li><a href="#v:attachProgram">attachProgram</a> :: <a href="file:///usr/local/haskell/ghc-7.8.3-x86_64/share/doc/ghc/html/libraries/base-4.7.0.1/Data-String.html#t:String">String</a></li><li><a href="#v:attachArgv">attachArgv</a> :: [<a href="file:///usr/local/haskell/ghc-7.8.3-x86_64/share/doc/ghc/html/libraries/base-4.7.0.1/Data-String.html#t:String">String</a>]</li></ul>}</li><li class="src short"><span class="keyword">newtype</span> <a href="#t:AttachExecFn">AttachExecFn</a> = <a href="#v:AttachExecFn">AttachExecFn</a> {<ul class="subs"><li><a href="#v:getAttachExecFn">getAttachExecFn</a> :: C_lxc_attach_exec_t</li></ul>}</li><li class="src short"><a href="#v:attachRunCommand">attachRunCommand</a> :: <a href="System-LXC-AttachOptions.html#t:AttachExecFn">AttachExecFn</a></li><li class="src short"><a href="#v:attachRunShell">attachRunShell</a> :: <a href="System-LXC-AttachOptions.html#t:AttachExecFn">AttachExecFn</a></li><li class="src short"><span class="keyword">data</span> <a href="#t:AttachEnvPolicy">AttachEnvPolicy</a><ul class="subs"><li>= <a href="#v:AttachKeepEnv">AttachKeepEnv</a></li><li>| <a href="#v:AttachClearEnv">AttachClearEnv</a></li></ul></li><li class="src short"><span class="keyword">data</span> <a href="#t:AttachFlag">AttachFlag</a><ul class="subs"><li>= <a href="#v:AttachMoveToCGroup">AttachMoveToCGroup</a></li><li>| <a href="#v:AttachDropCapabilities">AttachDropCapabilities</a></li><li>| <a href="#v:AttachSetPersonality">AttachSetPersonality</a></li><li>| <a href="#v:AttachLSMExec">AttachLSMExec</a></li><li>| <a href="#v:AttachRemountProcSys">AttachRemountProcSys</a></li><li>| <a href="#v:AttachLSMNow">AttachLSMNow</a></li><li>| <a href="#v:AttachDefault">AttachDefault</a></li><li>| <a href="#v:AttachLSM">AttachLSM</a></li></ul></li><li class="src short"><a href="#v:fromAttachEnvPolicy">fromAttachEnvPolicy</a> :: <a href="file:///usr/local/haskell/ghc-7.8.3-x86_64/share/doc/ghc/html/libraries/base-4.7.0.1/Prelude.html#t:Num">Num</a> a =&gt; <a href="System-LXC-AttachOptions.html#t:AttachEnvPolicy">AttachEnvPolicy</a> -&gt; a</li><li class="src short"><a href="#v:fromAttachFlag">fromAttachFlag</a> :: <a href="file:///usr/local/haskell/ghc-7.8.3-x86_64/share/doc/ghc/html/libraries/base-4.7.0.1/Prelude.html#t:Num">Num</a> a =&gt; <a href="System-LXC-AttachOptions.html#t:AttachFlag">AttachFlag</a> -&gt; a</li></ul></div><div id="interface"><h1 id="g:1">Attach options</h1><div class="top"><p class="src"><span class="keyword">data</span> <a name="t:AttachOptions" class="def">AttachOptions</a></p><div class="doc"><p>LXC attach options for <code><a href="System-LXC-Container.html#v:attach">attach</a></code>.</p><ul><li><em>NOTE:</em> for <code>stdin</code>, <code>stdout</code> and <code>stderr</code> descriptors
 <code>dup2()</code> will be used before calling <code>exec_function</code>,
 (assuming not <code>0</code>, <code>1</code> and <code>2</code> are specified) and the
 original fds are closed before passing control
 over. Any <code>O_CLOEXEC</code> flag will be removed after that.</li></ul></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a name="v:AttachOptions" class="def">AttachOptions</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><dl><dt class="src"><a name="v:attachFlags" class="def">attachFlags</a> :: [<a href="System-LXC-AttachOptions.html#t:AttachFlag">AttachFlag</a>]</dt><dd class="doc"><p>Any combination of <code><a href="System-LXC-AttachOptions.html#t:AttachFlag">AttachFlag</a></code> flags.</p></dd><dt class="src"><a name="v:attachNamespaces" class="def">attachNamespaces</a> :: <a href="file:///usr/local/haskell/ghc-7.8.3-x86_64/share/doc/ghc/html/libraries/base-4.7.0.1/Data-Int.html#t:Int">Int</a></dt><dd class="doc"><p>The namespaces to attach to (CLONE_NEW... flags).
 | Initial personality (<code>Nothing</code> to autodetect).</p><ul><li>This may be ignored if <code>lxc</code> is compiled without personality support</li></ul></dd><dt class="src"><a name="v:attachPersonality" class="def">attachPersonality</a> :: <a href="file:///usr/local/haskell/ghc-7.8.3-x86_64/share/doc/ghc/html/libraries/base-4.7.0.1/Data-Maybe.html#t:Maybe">Maybe</a> <a href="file:///usr/local/haskell/ghc-7.8.3-x86_64/share/doc/ghc/html/libraries/base-4.7.0.1/Data-Int.html#t:Int64">Int64</a></dt><dd class="doc empty">&nbsp;</dd><dt class="src"><a name="v:attachInitialCWD" class="def">attachInitialCWD</a> :: <a href="file:///usr/local/haskell/ghc-7.8.3-x86_64/share/doc/ghc/html/libraries/base-4.7.0.1/Data-Maybe.html#t:Maybe">Maybe</a> <a href="file:///usr/local/haskell/ghc-7.8.3-x86_64/share/doc/ghc/html/libraries/base-4.7.0.1/System-IO.html#t:FilePath">FilePath</a></dt><dd class="doc"><p>Inital current directory, <code>Nothing</code> to use <code>cwd</code>.</p><p>If the current directory does not exist in the container, the
 root directory will be used instead because of kernel defaults.</p></dd><dt class="src"><a name="v:attachUID" class="def">attachUID</a> :: <a href="file:///usr/local/haskell/ghc-7.8.3-x86_64/share/doc/ghc/html/libraries/base-4.7.0.1/System-Posix-Types.html#t:UserID">UserID</a></dt><dd class="doc"><p>The user-id to run as.</p><ul><li><em>NOTE:</em> Set to <code>-1</code> for default behaviour (init uid for userns
 containers or <code>0</code> (super-user) if detection fails).</li></ul></dd><dt class="src"><a name="v:attachGID" class="def">attachGID</a> :: <a href="file:///usr/local/haskell/ghc-7.8.3-x86_64/share/doc/ghc/html/libraries/base-4.7.0.1/System-Posix-Types.html#t:GroupID">GroupID</a></dt><dd class="doc"><p>The group-id to run as.</p><ul><li><em>NOTE:</em> Set to <code>-1</code> for default behaviour (init gid for userns
 containers or <code>0</code> (super-user) if detection fails).</li></ul></dd><dt class="src"><a name="v:attachEnvPolicy" class="def">attachEnvPolicy</a> :: <a href="System-LXC-AttachOptions.html#t:AttachEnvPolicy">AttachEnvPolicy</a></dt><dd class="doc"><p>Environment policy.</p></dd><dt class="src"><a name="v:attachExtraEnvVars" class="def">attachExtraEnvVars</a> :: [<a href="file:///usr/local/haskell/ghc-7.8.3-x86_64/share/doc/ghc/html/libraries/base-4.7.0.1/Data-String.html#t:String">String</a>]</dt><dd class="doc"><p>Extra environment variables to set in the container environment.</p></dd><dt class="src"><a name="v:attachExtraKeepEnv" class="def">attachExtraKeepEnv</a> :: [<a href="file:///usr/local/haskell/ghc-7.8.3-x86_64/share/doc/ghc/html/libraries/base-4.7.0.1/Data-String.html#t:String">String</a>]</dt><dd class="doc"><p>Names of environment variables in existing environment to retain in container environment.</p></dd><dt class="src"><a name="v:attachStdinFD" class="def">attachStdinFD</a> :: <a href="file:///usr/local/haskell/ghc-7.8.3-x86_64/share/doc/ghc/html/libraries/base-4.7.0.1/System-Posix-Types.html#t:Fd">Fd</a></dt><dd class="doc"><p><code>stdin</code> file descriptor.</p></dd><dt class="src"><a name="v:attachStdoutFD" class="def">attachStdoutFD</a> :: <a href="file:///usr/local/haskell/ghc-7.8.3-x86_64/share/doc/ghc/html/libraries/base-4.7.0.1/System-Posix-Types.html#t:Fd">Fd</a></dt><dd class="doc"><p><code>stdout</code> file descriptor.</p></dd><dt class="src"><a name="v:attachStderrFD" class="def">attachStderrFD</a> :: <a href="file:///usr/local/haskell/ghc-7.8.3-x86_64/share/doc/ghc/html/libraries/base-4.7.0.1/System-Posix-Types.html#t:Fd">Fd</a></dt><dd class="doc"><p><code>stderr</code> file descriptor.</p></dd></dl><div class="clear"></div></div></td></tr></table></div><div class="subs instances"><p id="control.i:AttachOptions" class="caption collapser" onclick="toggleSection('i:AttachOptions')">Instances</p><div id="section.i:AttachOptions" class="show"><table><tr><td class="src"><a href="file:///usr/local/haskell/ghc-7.8.3-x86_64/share/doc/ghc/html/libraries/base-4.7.0.1/Text-Show.html#t:Show">Show</a> <a href="System-LXC-AttachOptions.html#t:AttachOptions">AttachOptions</a></td><td class="doc empty">&nbsp;</td></tr></table></div></div></div><div class="top"><p class="src"><a name="v:defaultAttachOptions" class="def">defaultAttachOptions</a> :: <a href="System-LXC-AttachOptions.html#t:AttachOptions">AttachOptions</a></p><div class="doc"><p>Default attach options to use.</p></div></div><h1 id="g:2">Attach command</h1><div class="top"><p class="src"><span class="keyword">data</span> <a name="t:AttachCommand" class="def">AttachCommand</a></p><div class="doc"><p>Representation of a command to run in a container.</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a name="v:AttachCommand" class="def">AttachCommand</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><dl><dt class="src"><a name="v:attachProgram" class="def">attachProgram</a> :: <a href="file:///usr/local/haskell/ghc-7.8.3-x86_64/share/doc/ghc/html/libraries/base-4.7.0.1/Data-String.html#t:String">String</a></dt><dd class="doc"><p>The program to run (passed to <code>execvp</code>).</p></dd><dt class="src"><a name="v:attachArgv" class="def">attachArgv</a> :: [<a href="file:///usr/local/haskell/ghc-7.8.3-x86_64/share/doc/ghc/html/libraries/base-4.7.0.1/Data-String.html#t:String">String</a>]</dt><dd class="doc"><p>The <code>argv</code> of that program, including the program itself as the first element.</p></dd></dl><div class="clear"></div></div></td></tr></table></div></div><h1 id="g:3">Attach <code>exec</code> functions</h1><div class="top"><p class="src"><span class="keyword">newtype</span> <a name="t:AttachExecFn" class="def">AttachExecFn</a></p><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a name="v:AttachExecFn" class="def">AttachExecFn</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><dl><dt class="src"><a name="v:getAttachExecFn" class="def">getAttachExecFn</a> :: C_lxc_attach_exec_t</dt><dd class="doc empty">&nbsp;</dd></dl><div class="clear"></div></div></td></tr></table></div></div><div class="top"><p class="src"><a name="v:attachRunCommand" class="def">attachRunCommand</a> :: <a href="System-LXC-AttachOptions.html#t:AttachExecFn">AttachExecFn</a></p><div class="doc"><p>Run a command in the container.</p></div></div><div class="top"><p class="src"><a name="v:attachRunShell" class="def">attachRunShell</a> :: <a href="System-LXC-AttachOptions.html#t:AttachExecFn">AttachExecFn</a></p><div class="doc"><p>Run a shell command in the container.</p></div></div><h1 id="g:4">Flags and environment policies</h1><div class="top"><p class="src"><span class="keyword">data</span> <a name="t:AttachEnvPolicy" class="def">AttachEnvPolicy</a></p><div class="doc"><p>LXC environment policy.</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a name="v:AttachKeepEnv" class="def">AttachKeepEnv</a></td><td class="doc"><p>Retain the environment.</p></td></tr><tr><td class="src"><a name="v:AttachClearEnv" class="def">AttachClearEnv</a></td><td class="doc"><p>Clear the environment.</p></td></tr></table></div><div class="subs instances"><p id="control.i:AttachEnvPolicy" class="caption collapser" onclick="toggleSection('i:AttachEnvPolicy')">Instances</p><div id="section.i:AttachEnvPolicy" class="show"><table><tr><td class="src"><a href="file:///usr/local/haskell/ghc-7.8.3-x86_64/share/doc/ghc/html/libraries/base-4.7.0.1/Data-Eq.html#t:Eq">Eq</a> <a href="System-LXC-AttachOptions.html#t:AttachEnvPolicy">AttachEnvPolicy</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="file:///usr/local/haskell/ghc-7.8.3-x86_64/share/doc/ghc/html/libraries/base-4.7.0.1/Text-Show.html#t:Show">Show</a> <a href="System-LXC-AttachOptions.html#t:AttachEnvPolicy">AttachEnvPolicy</a></td><td class="doc empty">&nbsp;</td></tr></table></div></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a name="t:AttachFlag" class="def">AttachFlag</a></p><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a name="v:AttachMoveToCGroup" class="def">AttachMoveToCGroup</a></td><td class="doc"><p>Move to cgroup. On by default.</p></td></tr><tr><td class="src"><a name="v:AttachDropCapabilities" class="def">AttachDropCapabilities</a></td><td class="doc"><p>Drop capabilities. On by default.</p></td></tr><tr><td class="src"><a name="v:AttachSetPersonality" class="def">AttachSetPersonality</a></td><td class="doc"><p>Set personality. On by default</p></td></tr><tr><td class="src"><a name="v:AttachLSMExec" class="def">AttachLSMExec</a></td><td class="doc"><p>Execute under a Linux Security Module. On by default.</p></td></tr><tr><td class="src"><a name="v:AttachRemountProcSys" class="def">AttachRemountProcSys</a></td><td class="doc"><p>Remount /proc filesystem. Off by default.</p></td></tr><tr><td class="src"><a name="v:AttachLSMNow" class="def">AttachLSMNow</a></td><td class="doc"><p>FIXME: unknown. Off by default.</p></td></tr><tr><td class="src"><a name="v:AttachDefault" class="def">AttachDefault</a></td><td class="doc"><p>Mask of flags to apply by default.</p></td></tr><tr><td class="src"><a name="v:AttachLSM" class="def">AttachLSM</a></td><td class="doc"><p>All Linux Security Module flags.</p></td></tr></table></div><div class="subs instances"><p id="control.i:AttachFlag" class="caption collapser" onclick="toggleSection('i:AttachFlag')">Instances</p><div id="section.i:AttachFlag" class="show"><table><tr><td class="src"><a href="file:///usr/local/haskell/ghc-7.8.3-x86_64/share/doc/ghc/html/libraries/base-4.7.0.1/Data-Eq.html#t:Eq">Eq</a> <a href="System-LXC-AttachOptions.html#t:AttachFlag">AttachFlag</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="file:///usr/local/haskell/ghc-7.8.3-x86_64/share/doc/ghc/html/libraries/base-4.7.0.1/Text-Show.html#t:Show">Show</a> <a href="System-LXC-AttachOptions.html#t:AttachFlag">AttachFlag</a></td><td class="doc empty">&nbsp;</td></tr></table></div></div></div><div class="top"><p class="src"><a name="v:fromAttachEnvPolicy" class="def">fromAttachEnvPolicy</a> :: <a href="file:///usr/local/haskell/ghc-7.8.3-x86_64/share/doc/ghc/html/libraries/base-4.7.0.1/Prelude.html#t:Num">Num</a> a =&gt; <a href="System-LXC-AttachOptions.html#t:AttachEnvPolicy">AttachEnvPolicy</a> -&gt; a</p></div><div class="top"><p class="src"><a name="v:fromAttachFlag" class="def">fromAttachFlag</a> :: <a href="file:///usr/local/haskell/ghc-7.8.3-x86_64/share/doc/ghc/html/libraries/base-4.7.0.1/Prelude.html#t:Num">Num</a> a =&gt; <a href="System-LXC-AttachOptions.html#t:AttachFlag">AttachFlag</a> -&gt; a</p></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.14.3</p></div></body></html>